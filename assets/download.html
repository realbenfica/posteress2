<html> <head> <meta charset='UTF-8' /> <title>Download Image - Photo Upload</title> <style> html * { box-sizing: border-box; } body { margin: 10vh 10vw; font-family: Helvetica, Arial, sans-serif; } #previewImage { max-height: calc(80vh - 110px); max-width: 80vw; margin-right: auto; margin-left: auto; } .buttons { height: 60px; margin-top: 20px; text-align: center; } .buttons button { background-color: #333; color: #fff; font-size: 14px; border: none; border-radius: 3px; padding: 15px 25px; text-transform: uppercase; letter-spacing: 2px; margin: 5px; text-decoration: none; } #filename.file { margin-top: 3em; margin-bottom: 2em; } #filename { text-align: center; } </style> <script src='https://cdnjs.cloudflare.com/ajax/libs/downloadjs/1.4.8/download.min.js' integrity='sha512-WiGQZv8WpmQVRUFXZywo7pHIO0G/o3RyiAJZj8YXNN4AV7ReR1RYWVmZJ6y3H06blPcjJmG/sBpOVZjTSFFlzQ==' crossorigin='anonymous' ></script> </head> <body> <img id='previewImage' src='' style='display: none' /> <h2 id='filename' style='display: block'> 83935453_10157231243145965_8345431003010957312_n.jpg </h2> <div class='buttons'> <button target='_blank' id='downloadButton' onClick='downloadImage()' style='display: inline-block' > Download image </button> </div> <script> var url = new URL(window.location.href); var fileName = url.searchParams.get('file'); document.querySelector('#previewImage').src = fileName; document.querySelector('#previewImage').style.display = 'block'; document.querySelector('title').innerHTML = fileName .split('/') [fileName.split('/').length - 1].split('?')[0]; function downloadImage() { document.querySelector('#downloadButton').innerHTML = 'Please wait...'; (async () => { await download(fileName); })(); document.querySelector('#downloadButton').innerHTML = 'Download Image'; } </script> </body> </html>